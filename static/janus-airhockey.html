<html>
<body>
<script src="https://web.janusxr.org/1.5.53/janusweb.js"></script>
<janus-viewer>
    <assets>
        <!-- Define any assets here -->
    </assets>
    <room onload="defineCustomElements()">
        <airhockey-table position="0 0 0"></airhockey-table>
        <airhockey-scoreboard id="scoreboard1" position="-5 5 0"></airhockey-scoreboard>
        <airhockey-scoreboard id="scoreboard2" position="5 5 0"></airhockey-scoreboard>
    </room>
</janus-viewer>
<script>
function defineCustomElements() {
    janus.registerElement('airhockey-table', {
        someattribute: "default string value",
        numericattribute: 1.2,
        booleanattribute: true,
    
        create() {
            this.createObject('object', { id: 'cube', name: 'table', pos: "0 0 0", scale: "10 1 5", col: "#FFFFFF" });
            this.createObject('airhockey-goal', { name: 'goal1', pos: "-5 0 0", col: "#FF0000", player: 1 });
            this.createObject('airhockey-goal', { name: 'goal2', pos: "5 0 0", col: "#0000FF", player: 2 });
            this.createObject('airhockey-puck', { name: 'puck', pos: "0 1 0", col: "#FFFFFF" });
            this.createObject('airhockey-paddle', { name: 'paddle1', pos: "-2 1 2", col: "#FFFF00", player: 1 });
            this.createObject('airhockey-paddle', { name: 'paddle2', pos: "2 1 2", col: "#FFA500", player: 2 });
        },
        update(dt) {
            // Table update logic
        }
    });
    
    janus.registerElement('airhockey-paddle', {
        someattribute: "default string value",
        numericattribute: 1.0,
        booleanattribute: true,
    
        create() {
            this.createObject('object', { id: 'sphere', name: 'paddle-sphere', pos: "0 0 0", scale: "0.5 0.5 0.5", col: this.col });
        },
        update(dt) {
            // Paddle movement logic
        }
    });
    
    janus.registerElement('airhockey-puck', {
        someattribute: "default string value",
        numericattribute: 1.0,
        booleanattribute: true,
    
        create() {
            this.createObject('object', { id: 'sphere', name: 'puck-sphere', pos: "0 0 0", scale: "0.2 0.2 0.2", col: this.col });
        },
        update(dt) {
            // Puck movement and collision logic
        }
    });
    
    janus.registerElement('airhockey-scoreboard', {
        someattribute: "default string value",
        numericattribute: 1.0,
        booleanattribute: true,
    
        create() {
            this.createObject('text', { id: 'score-text', pos: "0 0 0", scale: "1 1 1", col: "#FFFFFF", text: "0 - 0" });
        },
        update(dt) {
            // Scoreboard update logic
        }
    });
    
    janus.registerElement('airhockey-goal', {
        someattribute: "default string value",
        numericattribute: 1.0,
        booleanattribute: true,
    
        create() {
            // Swapped x and z scale to make y-axis represent height
            this.createObject('object', { id: 'cube', name: 'goal-box', pos: "0 0 0", scale: "1 0.5 2", col: this.col });
        },
        update(dt) {
            // Goal collision detection logic
        }
    });
}
</script>
</body>
</html>