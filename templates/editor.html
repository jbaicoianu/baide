<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Project Manager Chat</title>
    <link rel="stylesheet" href="/static/editor/editor.css">
    <!-- Load Marked for Markdown parsing -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <!-- Load CodeMirror from CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/theme/dracula.min.css">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/mode/python/python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/addon/search/search.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/addon/search/searchcursor.js"></script>

    <script src="/static/editor/editor.js"></script>
  </head>
  <body>
    <div id="container">
      <!-- Left Column - Project Browser -->
      <div id="projectBrowser">
        <h2>Project Browser</h2>
        <button id="newFileButton" onclick="openNewFileModal()">New File</button>
        <!-- Project structure will be loaded here dynamically -->
      </div>
      <!-- New File Modal -->
      <div id="newFileModal" class="modal">
        <div class="modal-content">
          <span class="close" onclick="closeNewFileModal()">&times;</span>
          <h3>Create New File</h3>
          <form id="newFileForm">
            <input type="text" id="newFileName" placeholder="Enter file name...">
            <input type="submit" value="Create">
            <button class="cancel" type="button" onclick="closeNewFileModal()">Cancel</button>
          </form>
        </div>
      </div>
      <!-- Middle Column - Active Coding Contexts, Tabs, Source Code Editor and Chat -->
      <div id="mainContent">
        <div id="activeCodingContextsContainer">
          <div id="activeCodingContexts">
            <!-- Coding contexts will be loaded here as badges -->
          </div>
        </div>
        <div id="tabs">
          <!-- Tabs will be dynamically added here -->
        </div>
        <div id="sourceCodeContainer">
          <textarea id="sourceCode" readonly></textarea>
        </div>
        <div id="chatContainer">
          <div id="chatBox">
            <!-- Existing conversation will be loaded here -->
          </div>
          <div id="throbber"></div>
          <form id="chatForm">
            <textarea id="promptInput" rows="3" placeholder="Enter your prompt here..."></textarea><br>
            <input type="submit" value="Submit">
          </form>
        </div>
      </div>
      <!-- Right Column - Commit Summaries -->
      <div id="commitSummariesContainer">
        <h2>Commit Summaries</h2>
        <div id="commitSummaries">
          <!-- Commit summaries will be loaded here -->
        </div>
      </div>
    </div>
  </body>
</html>
